<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">

	<ui:define name="titulo">#{msgs.tituloSolicitudes}</ui:define>
	<ui:define name="cuerpo">
		<h:form id="formSolicitudes">
			<p:dataTable id="tablaSolicitudes" var="app"
				value="#{solicitudes.applications}" border="1">
				<p:column>
					<f:facet name="header">#{msgs.solicitudNombre}</f:facet>#{app.userId}</p:column>
				<p:column>
				<f:facet name="header">#{msgs.verPerfil}</f:facet>
					<p:commandButton id="botonPerfil" value="#{msgs.botonVerPerfil}"
						action="#{controller.cargar(app)}"/>
					<p:messages for="botonVerPerfil" />
				</p:column>
				<p:column>
					<f:facet name="header">#{msgs.solicitudesConfirmarSolicitud}</f:facet>
					<p:commandButton id="botonConfirmar"
						value="#{msgs.botonConfirmarSolicitud}"
						action="#{solicitudes.confirmar(app)}"  update="tablaSolicitudes" />
					<p:messages for="botonConfirmarSolicitar" />
				</p:column>
				<p:column>
					<f:facet name="header">#{msgs.solicitudesCancelarSolicitud}</f:facet>
					<p:commandButton id="botonCancelar"
						value="#{msgs.botonCancelarSolicitar}"
						action="#{solicitudes.cancelar(app)}" update="tablaSolicitudes"/>
					<p:messages for="botonCancelarSolicitar" />
				</p:column>
				<p:column>
					<f:facet name="header">#{msgs.solicitudesEstadoSolicitud}</f:facet>
					<h:outputText value="#{solicitudes.state(app)}"/>
					<p:messages for="estadoSolicitud" />
				</p:column>
			</p:dataTable>
		</h:form >
	</ui:define>
	<ui:define name="pie">
		<ui:include src="/snippets/pie-casa.xhtml" />
	</ui:define>

</ui:composition>